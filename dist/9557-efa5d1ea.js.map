{"version":3,"file":"9557-efa5d1ea.js","mappings":"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","sources":["webpack://checkout/./packages/checkout-button-integration/src/CheckoutButton.tsx","webpack://checkout/./packages/dom-utils/src/getAppliedStyles.ts","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardCodeField/HostedCreditCardCodeField.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardExpiryField.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardNumberField/HostedCreditCardNumberField.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardValidation/HostedCreditCardValidation.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/hooks/useHostedCreditCard.tsx","webpack://checkout/./packages/hosted-widget-integration/src/EditButton.tsx","webpack://checkout/./packages/hosted-widget-integration/src/PaymentDescriptor.tsx","webpack://checkout/./packages/hosted-widget-integration/src/PaymentWidget.tsx","webpack://checkout/./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx","webpack://checkout/./packages/instrument-utils/src/creditCard/getCreditCardInputStyles/getCreditCardInputStyles.tsx","webpack://checkout/./packages/stripe-integration/src/stripe-ocs/getStripeOCSStyles.ts","webpack://checkout/./packages/stripe-integration/src/stripe-ocs/StripeOCSPaymentMethod.tsx","webpack://checkout/./packages/stripe-integration/src/stripe-upe/StripeUPEPaymentMethod.tsx","webpack://checkout/./packages/stripe-integration/src/stripev3/StripeV3CustomCardForm.tsx","webpack://checkout/./packages/stripe-integration/src/stripev3/StripeV3PaymentMethod.tsx","webpack://checkout/./packages/stripe-integration/src/stripe-ocs/StripeLinkV2Button.tsx","webpack://checkout/./packages/ui/src/form/TextInputIframeContainer/TextInputIframeContainer.tsx"],"sourcesContent":["import React, { type FunctionComponent, useEffect } from 'react';\n\nimport {\n    type CheckoutButtonProps,\n    type CheckoutButtonResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nconst CheckoutButton: FunctionComponent<CheckoutButtonProps> = ({\n    checkoutService: { deinitializeCustomer, initializeCustomer },\n    checkoutButtonContainerClass,\n    containerId,\n    methodId,\n    onUnhandledError,\n    onWalletButtonClick,\n    additionalInitializationOptions,\n    integrations,\n}) => {\n    const initializeCustomerStrategyOrThrow = async () => {\n        try {\n            await initializeCustomer({\n                methodId,\n                integrations,\n                [methodId]: {\n                    container: containerId,\n                    onUnhandledError,\n                    onClick: () => onWalletButtonClick(methodId),\n                    ...additionalInitializationOptions,\n                },\n            });\n        } catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    };\n\n    const deinitializeCustomerStrategyOrThrow = async () => {\n        try {\n            await deinitializeCustomer({ methodId });\n        } catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    };\n\n    useEffect(() => {\n        void initializeCustomerStrategyOrThrow();\n\n        return () => {\n            void deinitializeCustomerStrategyOrThrow();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div className={checkoutButtonContainerClass} data-test={containerId} id={containerId} />\n    );\n};\n\nexport default toResolvableComponent<CheckoutButtonProps, CheckoutButtonResolveId>(\n    CheckoutButton,\n    [],\n);\n","import { kebabCase } from 'lodash';\n\nexport default function getAppliedStyles(\n    element: HTMLElement,\n    properties: string[],\n    pseudoElementSelector?: string,\n): { [key: string]: string } {\n    const declaration = window.getComputedStyle(element, pseudoElementSelector);\n\n    return properties.reduce(\n        (result, propertyName) => ({\n            ...result,\n            [propertyName]: declaration.getPropertyValue(kebabCase(propertyName)),\n        }),\n        {},\n    );\n}\n","import React, { type FunctionComponent, useCallback, useMemo } from 'react';\n\nimport { CreditCardCodeTooltip } from '@bigcommerce/checkout/instrument-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport {\n    FormField,\n    IconHelp,\n    IconLock,\n    TextInputIframeContainer,\n    TooltipTrigger,\n} from '@bigcommerce/checkout/ui';\n\nexport interface HostedCreditCardCodeFieldProps {\n    appearFocused: boolean;\n    id?: string;\n    name: string;\n}\n\nconst HostedCreditCardCodeField: FunctionComponent<HostedCreditCardCodeFieldProps> = ({\n    appearFocused,\n    id,\n    name,\n}) => {\n    const renderInput = useCallback(\n        () => (\n            <>\n                <TextInputIframeContainer\n                    additionalClassName=\"has-icon\"\n                    appearFocused={appearFocused}\n                    id={id}\n                />\n\n                <IconLock />\n            </>\n        ),\n        [id, appearFocused],\n    );\n\n    const labelContent = useMemo(\n        () => (\n            <>\n                <TranslatedString id=\"payment.credit_card_cvv_label\" />\n\n                <TooltipTrigger placement=\"top-start\" tooltip={<CreditCardCodeTooltip />}>\n                    <span className=\"has-tip\">\n                        <IconHelp />\n                    </span>\n                </TooltipTrigger>\n            </>\n        ),\n        [],\n    );\n\n    return (\n        <FormField\n            additionalClassName=\"form-ccFields-field--ccCvv\"\n            input={renderInput}\n            labelContent={labelContent}\n            name={name}\n        />\n    );\n};\n\nexport default HostedCreditCardCodeField;\n","import React, { type FunctionComponent, useCallback } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { FormField, TextInputIframeContainer } from '@bigcommerce/checkout/ui';\n\nexport interface HostedCreditCardExpiryFieldProps {\n    appearFocused: boolean;\n    id: string;\n    name: string;\n}\n\nconst HostedCreditCardExpiryField: FunctionComponent<HostedCreditCardExpiryFieldProps> = ({\n    appearFocused,\n    id,\n    name,\n}) => {\n    const renderInput = useCallback(\n        () => <TextInputIframeContainer appearFocused={appearFocused} id={id} />,\n        [id, appearFocused],\n    );\n\n    return (\n        <FormField\n            additionalClassName=\"form-field--ccExpiry\"\n            input={renderInput}\n            labelContent={<TranslatedString id=\"payment.credit_card_expiration_label\" />}\n            name={name}\n        />\n    );\n};\n\nexport default HostedCreditCardExpiryField;\n","import React, { type FunctionComponent, useCallback } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { FormField, IconLock, TextInputIframeContainer } from '@bigcommerce/checkout/ui';\n\nexport interface HostedCreditCardNumberFieldProps {\n    appearFocused: boolean;\n    id: string;\n    name: string;\n}\n\nconst HostedCreditCardNumberField: FunctionComponent<HostedCreditCardNumberFieldProps> = ({\n    appearFocused,\n    id,\n    name,\n}) => {\n    const renderInput = useCallback(\n        () => (\n            <>\n                <TextInputIframeContainer\n                    additionalClassName=\"has-icon\"\n                    appearFocused={appearFocused}\n                    id={id}\n                />\n\n                <IconLock />\n            </>\n        ),\n        [id, appearFocused],\n    );\n\n    return (\n        <FormField\n            additionalClassName=\"form-field--ccNumber\"\n            input={renderInput}\n            labelContent={<TranslatedString id=\"payment.credit_card_number_label\" />}\n            name={name}\n        />\n    );\n};\n\nexport default HostedCreditCardNumberField;\n","import React, { type FunctionComponent } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport {\n    HostedCreditCardCodeField,\n    HostedCreditCardExpiryField,\n    HostedCreditCardNumberField,\n} from '../';\n\nexport interface HostedCreditCardValidationProps {\n    cardCodeId?: string;\n    cardNumberId?: string;\n    cardExpiryId?: string;\n    focusedFieldType?: string;\n}\n\nconst HostedCreditCardValidation: FunctionComponent<HostedCreditCardValidationProps> = ({\n    cardCodeId,\n    cardNumberId,\n    cardExpiryId,\n    focusedFieldType,\n}) => (\n    <>\n        {cardNumberId && (\n            <p>\n                <strong>\n                    <TranslatedString id=\"payment.instrument_trusted_shipping_address_title_text\" />\n                </strong>\n\n                <br />\n\n                <TranslatedString id=\"payment.instrument_trusted_shipping_address_text\" />\n            </p>\n        )}\n\n        <div className=\"form-ccFields\">\n            {cardNumberId && (\n                <HostedCreditCardNumberField\n                    appearFocused={focusedFieldType === 'cardNumber'}\n                    id={cardNumberId}\n                    name=\"hostedForm.errors.cardNumberVerification\"\n                />\n            )}\n\n            {cardCodeId && (\n                <HostedCreditCardCodeField\n                    appearFocused={focusedFieldType === 'cardCode'}\n                    id={cardCodeId}\n                    name=\"hostedForm.errors.cardCodeVerification\"\n                />\n            )}\n\n            {cardExpiryId && (\n                <HostedCreditCardExpiryField\n                    appearFocused={focusedFieldType === 'cardExpiry'}\n                    id={cardExpiryId}\n                    name=\"hostedForm.errors.cardExpiryVerification\"\n                />\n            )}\n        </div>\n    </>\n);\n\nexport default HostedCreditCardValidation;\n","import {\n    type CardInstrument,\n    type CheckoutSelectors,\n    type LanguageService,\n    type LegacyHostedFormOptions,\n    type PaymentMethod,\n} from '@bigcommerce/checkout-sdk';\nimport { compact, forIn } from 'lodash';\nimport React, { type ReactNode, useCallback, useState } from 'react';\n\nimport {\n    CreditCardInputStylesType,\n    getCreditCardInputStyles,\n    isInstrumentCardCodeRequiredSelector,\n    isInstrumentCardNumberRequiredSelector,\n} from '@bigcommerce/checkout/instrument-utils';\nimport { type PaymentFormService } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { HostedCreditCardValidation } from '../components';\n\nexport interface UseHostedFormOptions {\n    checkoutState: CheckoutSelectors;\n    language: LanguageService;\n    method: PaymentMethod;\n    paymentForm: PaymentFormService;\n}\n\nexport const useHostedCreditCard = ({\n    checkoutState,\n    method,\n    language,\n    paymentForm,\n}: UseHostedFormOptions) => {\n    const { setFieldTouched, setFieldValue, setSubmitted, submitForm } = paymentForm;\n    const { config } = method;\n    const { cardCode: requireCardCode } = config;\n\n    const isCardCodeRequired = requireCardCode || requireCardCode === null;\n    const isInstrumentCardCodeRequiredProp = isInstrumentCardCodeRequiredSelector(checkoutState);\n    const isInstrumentCardNumberRequiredProp =\n        isInstrumentCardNumberRequiredSelector(checkoutState);\n\n    const getHostedFieldId: (name: string) => string = useCallback(\n        (name) => {\n            return `${compact([method.gateway, method.id]).join('-')}-${name}`;\n        },\n        [method],\n    );\n\n    const [focusedFieldType, setFocusedFieldType] = useState<string>();\n\n    const getHostedStoredCardValidationFieldset: (selectedInstrument: CardInstrument) => ReactNode =\n        useCallback(\n            (selectedInstrument) => {\n                const isInstrumentCardNumberRequired = selectedInstrument\n                    ? isInstrumentCardNumberRequiredProp(selectedInstrument, method)\n                    : false;\n                const isInstrumentCardCodeRequired = selectedInstrument\n                    ? isInstrumentCardCodeRequiredProp(selectedInstrument, method)\n                    : false;\n\n                return (\n                    <HostedCreditCardValidation\n                        cardCodeId={\n                            isInstrumentCardCodeRequired ? getHostedFieldId('ccCvv') : undefined\n                        }\n                        cardNumberId={\n                            isInstrumentCardNumberRequired\n                                ? getHostedFieldId('ccNumber')\n                                : undefined\n                        }\n                        focusedFieldType={focusedFieldType}\n                    />\n                );\n            },\n            [\n                focusedFieldType,\n                getHostedFieldId,\n                isInstrumentCardCodeRequiredProp,\n                isInstrumentCardNumberRequiredProp,\n                method,\n            ],\n        );\n\n    const getHostedFormOptions = useCallback(\n        async (selectedInstrument: CardInstrument): Promise<LegacyHostedFormOptions> => {\n            const styleProps = ['color', 'fontFamily', 'fontSize', 'fontWeight'];\n            const isInstrumentCardNumberRequired = selectedInstrument\n                ? isInstrumentCardNumberRequiredProp(selectedInstrument, method)\n                : false;\n            const isInstrumentCardCodeRequired = selectedInstrument\n                ? isInstrumentCardCodeRequiredProp(selectedInstrument, method)\n                : false;\n            let styleContainerId;\n\n            if (selectedInstrument) {\n                if (isInstrumentCardCodeRequired) {\n                    styleContainerId = getHostedFieldId('ccCvv');\n                } else if (isInstrumentCardNumberRequired) {\n                    styleContainerId = getHostedFieldId('ccNumber');\n                }\n            } else {\n                styleContainerId = getHostedFieldId('ccNumber');\n            }\n\n            return {\n                fields: selectedInstrument\n                    ? {\n                          cardCodeVerification:\n                              isInstrumentCardCodeRequired && selectedInstrument\n                                  ? {\n                                        accessibilityLabel: language.translate(\n                                            'payment.credit_card_cvv_label',\n                                        ),\n                                        containerId: getHostedFieldId('ccCvv'),\n                                        instrumentId: selectedInstrument.bigpayToken,\n                                    }\n                                  : undefined,\n                          cardNumberVerification:\n                              isInstrumentCardNumberRequired && selectedInstrument\n                                  ? {\n                                        accessibilityLabel: language.translate(\n                                            'payment.credit_card_number_label',\n                                        ),\n                                        containerId: getHostedFieldId('ccNumber'),\n                                        instrumentId: selectedInstrument.bigpayToken,\n                                    }\n                                  : undefined,\n                      }\n                    : {\n                          cardCode: isCardCodeRequired\n                              ? {\n                                    accessibilityLabel: language.translate(\n                                        'payment.credit_card_cvv_label',\n                                    ),\n                                    containerId: getHostedFieldId('ccCvv'),\n                                }\n                              : undefined,\n                          cardExpiry: {\n                              accessibilityLabel: language.translate(\n                                  'payment.credit_card_expiration_label',\n                              ),\n                              containerId: getHostedFieldId('ccExpiry'),\n                              placeholder: language.translate(\n                                  'payment.credit_card_expiration_placeholder_text',\n                              ),\n                          },\n                          cardName: {\n                              accessibilityLabel: language.translate(\n                                  'payment.credit_card_name_label',\n                              ),\n                              containerId: getHostedFieldId('ccName'),\n                          },\n                          cardNumber: {\n                              accessibilityLabel: language.translate(\n                                  'payment.credit_card_number_label',\n                              ),\n                              containerId: getHostedFieldId('ccNumber'),\n                          },\n                      },\n                styles: styleContainerId\n                    ? {\n                          default: await getCreditCardInputStyles(styleContainerId, styleProps),\n                          error: await getCreditCardInputStyles(\n                              styleContainerId,\n                              styleProps,\n                              CreditCardInputStylesType.Error,\n                          ),\n                          focus: await getCreditCardInputStyles(\n                              styleContainerId,\n                              styleProps,\n                              CreditCardInputStylesType.Focus,\n                          ),\n                      }\n                    : {},\n                onBlur: ({ fieldType }) => {\n                    if (focusedFieldType === fieldType) {\n                        setFocusedFieldType(undefined);\n                    }\n                },\n                onCardTypeChange: ({ cardType }) => {\n                    setFieldValue('hostedForm.cardType', cardType);\n                },\n                onEnter: () => {\n                    setSubmitted(true);\n                    submitForm();\n                },\n                onFocus: ({ fieldType }) => {\n                    setFocusedFieldType(fieldType);\n                },\n                onValidate: ({ errors = {} }) => {\n                    forIn(errors, (fieldErrors = [], fieldType) => {\n                        const errorKey = `hostedForm.errors.${fieldType}`;\n\n                        setFieldValue(errorKey, fieldErrors[0]?.type ?? '');\n\n                        if (fieldErrors[0]) {\n                            setFieldTouched(errorKey);\n                        }\n                    });\n                },\n            };\n        },\n        [\n            focusedFieldType,\n            getHostedFieldId,\n            isCardCodeRequired,\n            isInstrumentCardCodeRequiredProp,\n            isInstrumentCardNumberRequiredProp,\n            language,\n            method,\n            setFieldTouched,\n            setFieldValue,\n            setSubmitted,\n            submitForm,\n        ],\n    );\n\n    return { getHostedStoredCardValidationFieldset, getHostedFormOptions };\n};\n","import classNames from 'classnames';\nimport React, { type ReactNode } from 'react';\n\nimport { preventDefault } from '@bigcommerce/checkout/dom-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\ninterface EditButtonProps {\n    buttonId: string | undefined;\n    shouldShowEditButton: boolean | undefined;\n}\n\nexport const EditButton = ({ buttonId, shouldShowEditButton }: EditButtonProps): ReactNode => {\n    if (shouldShowEditButton) {\n        const translatedString = <TranslatedString id=\"remote.select_different_card_action\" />;\n\n        return (\n            <p>\n                <button\n                    className={classNames('stepHeader', 'widget-link-amazonpay')}\n                    id={buttonId}\n                    onClick={preventDefault()}\n                    type=\"button\"\n                >\n                    {translatedString}\n                </button>\n            </p>\n        );\n    }\n\n    return null;\n};\n","import React, { type ReactNode } from 'react';\n\ninterface PaymentDescriptorProps {\n    paymentDescriptor: string | undefined;\n    shouldShowDescriptor: boolean | undefined;\n}\n\nexport const PaymentDescriptor = ({\n    shouldShowDescriptor,\n    paymentDescriptor,\n}: PaymentDescriptorProps): ReactNode => {\n    if (shouldShowDescriptor && paymentDescriptor) {\n        return <div className=\"payment-descriptor\">{paymentDescriptor}</div>;\n    }\n\n    return null;\n};\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport classNames from 'classnames';\nimport React, { type ReactElement } from 'react';\n\ninterface PaymentWidgetProps {\n    additionalContainerClassName: string | undefined;\n    containerId: string;\n    hideContentWhenSignedOut: boolean;\n    hideWidget: boolean;\n    isSignInRequired: boolean | undefined;\n    isSignedIn: boolean;\n    method: PaymentMethod;\n    renderCustomPaymentForm: (() => React.ReactNode) | undefined;\n    shouldRenderCustomInstrument: boolean;\n    shouldShowCreditCardFieldset: boolean;\n}\n\nexport const PaymentWidget = ({\n    additionalContainerClassName,\n    containerId,\n    hideContentWhenSignedOut,\n    hideWidget,\n    isSignInRequired,\n    isSignedIn,\n    method,\n    renderCustomPaymentForm,\n    shouldRenderCustomInstrument,\n    shouldShowCreditCardFieldset,\n}: PaymentWidgetProps): ReactElement => (\n    <div\n        className={classNames(\n            'widget',\n            `widget--${method.id}`,\n            'payment-widget',\n            shouldRenderCustomInstrument ? '' : additionalContainerClassName,\n        )}\n        id={containerId}\n        style={{\n            display:\n                (hideContentWhenSignedOut && isSignInRequired && !isSignedIn) ||\n                !shouldShowCreditCardFieldset ||\n                hideWidget\n                    ? 'none'\n                    : undefined,\n        }}\n        tabIndex={-1}\n    >\n        {shouldRenderCustomInstrument && renderCustomPaymentForm && renderCustomPaymentForm()}\n    </div>\n);\n","import {\n    type AccountInstrument,\n    type CardInstrument,\n    type CheckoutSelectors,\n    type CustomerInitializeOptions,\n    type CustomerRequestOptions,\n    type Instrument,\n    type PaymentInitializeOptions,\n    type PaymentInstrument,\n    type PaymentMethod,\n    type PaymentRequestOptions,\n} from '@bigcommerce/checkout-sdk';\nimport { find, noop } from 'lodash';\nimport React, {\n    type ReactElement,\n    type ReactNode,\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\nimport { type ObjectSchema } from 'yup';\n\nimport {\n    AccountInstrumentFieldset,\n    assertIsCardInstrument,\n    CardInstrumentFieldset,\n    isBankAccountInstrument,\n    isCardInstrument,\n    StoreInstrumentFieldset,\n} from '@bigcommerce/checkout/instrument-utils';\nimport { type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\nimport { LoadingOverlay } from '@bigcommerce/checkout/ui';\n\nimport { EditButton } from './EditButton';\nimport { PaymentDescriptor } from './PaymentDescriptor';\nimport { PaymentWidget } from './PaymentWidget';\n\nexport interface PaymentContextProps {\n    disableSubmit(method: PaymentMethod, disabled?: boolean): void;\n    // NOTE: This prop allows certain payment methods to override the default\n    // form submission behaviour. It is not recommended to use it because\n    // generally speaking we want to avoid method-specific snowflake behaviours.\n    // Nevertheless, because of some product / UX decisions made in the past\n    // (i.e.: Amazon), we have to have this backdoor so we can preserve these\n    // snowflake behaviours. In the future, if we decide to change the UX, we\n    // can remove this prop.\n    setSubmit(method: PaymentMethod, fn: ((values: PaymentFormValues) => void) | null): void;\n    setFieldValue<TField extends keyof PaymentFormValues>(\n        field: TField,\n        value: PaymentFormValues[TField],\n    ): void;\n    setValidationSchema(\n        method: PaymentMethod,\n        schema: ObjectSchema<Partial<PaymentFormValues>> | null,\n    ): void;\n    hidePaymentSubmitButton(method: PaymentMethod, hidden?: boolean): void;\n}\n\nexport interface WithCheckoutHostedWidgetPaymentMethodProps {\n    instruments: PaymentInstrument[];\n    isInstrumentFeatureAvailable: boolean;\n    isLoadingInstruments: boolean;\n    isPaymentDataRequired: boolean;\n    isSignedIn: boolean;\n    isInstrumentCardCodeRequired(instrument: Instrument, method: PaymentMethod): boolean;\n    isInstrumentCardNumberRequired(instrument: Instrument, method: PaymentMethod): boolean;\n    loadInstruments(): Promise<CheckoutSelectors>;\n    signOut(options: CustomerRequestOptions): void;\n}\n\nexport interface HostedWidgetComponentProps extends WithCheckoutHostedWidgetPaymentMethodProps {\n    additionalContainerClassName?: string;\n    buttonId?: string;\n    containerId: string;\n    hideContentWhenSignedOut?: boolean;\n    hideVerificationFields?: boolean;\n    isAccountInstrument?: boolean;\n    hideWidget?: boolean;\n    isInitializing?: boolean;\n    isUsingMultiShipping?: boolean;\n    isSignInRequired?: boolean;\n    method: PaymentMethod;\n    paymentDescriptor?: string;\n    shouldHideInstrumentExpiryDate?: boolean;\n    shouldShow?: boolean;\n    shouldShowDescriptor?: boolean;\n    shouldShowEditButton?: boolean;\n    shouldRenderCustomInstrument?: boolean;\n    storedCardValidationSchema?: ObjectSchema;\n    renderCustomPaymentForm?(): React.ReactNode;\n    validateInstrument?(\n        shouldShowNumberField: boolean,\n        selectedInstrument?: CardInstrument,\n    ): React.ReactNode;\n    deinitializeCustomer?(options: CustomerRequestOptions): Promise<CheckoutSelectors>;\n    deinitializePayment(options: PaymentRequestOptions): Promise<CheckoutSelectors>;\n    initializeCustomer?(options: CustomerInitializeOptions): Promise<CheckoutSelectors>;\n    initializePayment(\n        options: PaymentInitializeOptions,\n        selectedInstrument?: CardInstrument,\n    ): Promise<CheckoutSelectors>;\n    onPaymentSelect?(): void;\n    onSignOut?(): void;\n    onSignOutError?(error: Error): void;\n    onUnhandledError?(error: Error): void;\n    signInCustomer?(): void;\n}\n\nconst HostedWidgetPaymentComponent = ({\n    instruments,\n    hideWidget = false,\n    isInitializing = false,\n    isAccountInstrument,\n    isInstrumentFeatureAvailable: isInstrumentFeatureAvailableProp,\n    isLoadingInstruments,\n    shouldHideInstrumentExpiryDate = false,\n    shouldShow = true,\n    hideVerificationFields,\n    method,\n    storedCardValidationSchema,\n    isPaymentDataRequired,\n    setValidationSchema,\n    loadInstruments,\n    onUnhandledError = noop,\n    deinitializeCustomer,\n    deinitializePayment,\n    setSubmit,\n    initializeCustomer,\n    initializePayment,\n    signInCustomer,\n    isSignedIn,\n    isSignInRequired,\n    isInstrumentCardNumberRequired,\n    validateInstrument,\n    containerId,\n    hideContentWhenSignedOut = false,\n    renderCustomPaymentForm,\n    additionalContainerClassName,\n    shouldRenderCustomInstrument = false,\n    paymentDescriptor,\n    shouldShowDescriptor,\n    shouldShowEditButton,\n    buttonId,\n    setFieldValue,\n}: HostedWidgetComponentProps & PaymentContextProps): ReactElement => {\n    const [isAddingNewCard, setIsAddingNewCard] = useState(false);\n    const [selectedInstrumentId, setSelectedInstrumentId] = useState<string | undefined>(undefined);\n    const instrumentsRef = useRef<PaymentInstrument[]>(instruments);\n\n    useEffect(() => {\n        instrumentsRef.current = instruments;\n    }, [instruments]);\n\n    const getDefaultInstrumentId = useCallback((): string | undefined => {\n        if (isAddingNewCard) {\n            return undefined;\n        }\n\n        const defaultInstrument =\n            instrumentsRef.current.find((instrument) => instrument.defaultInstrument) ||\n            instrumentsRef.current[0];\n\n        return defaultInstrument ? defaultInstrument.bigpayToken : undefined;\n    }, [isAddingNewCard]);\n\n    const getSelectedInstrument = useCallback((): PaymentInstrument | undefined => {\n        const currentSelectedId = selectedInstrumentId || getDefaultInstrumentId();\n\n        return find(instrumentsRef.current, { bigpayToken: currentSelectedId });\n    }, [selectedInstrumentId, getDefaultInstrumentId]);\n\n    const getValidationSchema = useCallback((): ObjectSchema | null => {\n        if (!isPaymentDataRequired) {\n            return null;\n        }\n\n        const currentSelectedInstrument = getSelectedInstrument();\n\n        if (isInstrumentFeatureAvailableProp && currentSelectedInstrument) {\n            return storedCardValidationSchema || null;\n        }\n\n        return null;\n    }, [\n        getSelectedInstrument,\n        isInstrumentFeatureAvailableProp,\n        isPaymentDataRequired,\n        storedCardValidationSchema,\n    ]);\n\n    const getSelectedBankAccountInstrument = useCallback(\n        (\n            addingNew: boolean,\n            currentSelectedInstrument: PaymentInstrument,\n        ): AccountInstrument | undefined => {\n            return !addingNew && isBankAccountInstrument(currentSelectedInstrument)\n                ? currentSelectedInstrument\n                : undefined;\n        },\n        [],\n    );\n\n    const handleDeleteInstrument = useCallback(\n        (id: string): void => {\n            if (instruments.length === 0) {\n                setIsAddingNewCard(true);\n                setSelectedInstrumentId(undefined);\n                setFieldValue('instrumentId', '');\n\n                return;\n            }\n\n            if (selectedInstrumentId === id) {\n                const nextId = getDefaultInstrumentId();\n\n                setSelectedInstrumentId(nextId);\n                setFieldValue('instrumentId', nextId);\n            }\n        },\n        [instruments, selectedInstrumentId, getDefaultInstrumentId],\n    );\n\n    const handleUseNewCard = useCallback(async () => {\n        setIsAddingNewCard(true);\n        setSelectedInstrumentId(undefined);\n\n        if (deinitializePayment) {\n            await deinitializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        }\n\n        if (initializePayment) {\n            await initializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        }\n    }, [method, deinitializePayment, initializePayment]);\n\n    const handleSelectInstrument = useCallback((id: string) => {\n        setIsAddingNewCard(false);\n        setSelectedInstrumentId(id);\n    }, []);\n\n    const getValidateInstrument = useCallback((): ReactNode | undefined => {\n        const currentSelectedId = selectedInstrumentId || getDefaultInstrumentId();\n        const currentSelectedInstrument = find(instruments, { bigpayToken: currentSelectedId });\n\n        if (currentSelectedInstrument) {\n            assertIsCardInstrument(currentSelectedInstrument);\n\n            const shouldShowNumberField = isInstrumentCardNumberRequired(\n                currentSelectedInstrument,\n                method,\n            );\n\n            if (hideVerificationFields) {\n                return undefined;\n            }\n\n            if (validateInstrument) {\n                return validateInstrument(shouldShowNumberField, currentSelectedInstrument);\n            }\n        }\n\n        return undefined;\n    }, [\n        selectedInstrumentId,\n        getDefaultInstrumentId,\n        instruments,\n        method,\n        hideVerificationFields,\n        validateInstrument,\n    ]);\n\n    const initializeMethod = async (): Promise<CheckoutSelectors | void> => {\n        const currentInstruments = instrumentsRef.current;\n\n        if (!isPaymentDataRequired) {\n            setSubmit(method, null);\n\n            return;\n        }\n\n        if (isSignInRequired && !isSignedIn) {\n            setSubmit(method, signInCustomer || null);\n\n            if (initializeCustomer) {\n                return initializeCustomer({ methodId: method.id });\n            }\n\n            return;\n        }\n\n        setSubmit(method, null);\n\n        let selectedCardInstrument: CardInstrument | undefined;\n\n        if (!isAddingNewCard) {\n            const currentSelectedInstrumentId = selectedInstrumentId || getDefaultInstrumentId();\n            const maybeInstrument =\n                currentInstruments.find(\n                    (instrument) => instrument.bigpayToken === currentSelectedInstrumentId,\n                ) || currentInstruments[0];\n\n            if (maybeInstrument && isCardInstrument(maybeInstrument)) {\n                selectedCardInstrument = maybeInstrument;\n            }\n        }\n\n        if (initializePayment) {\n            return initializePayment(\n                { gatewayId: method.gateway, methodId: method.id },\n                selectedCardInstrument,\n            );\n        }\n    };\n\n    // Below values are for lower level components\n    const effectiveSelectedInstrumentId = selectedInstrumentId || getDefaultInstrumentId();\n    const selectedInstrument = effectiveSelectedInstrumentId\n        ? instruments.find((i) => i.bigpayToken === effectiveSelectedInstrumentId) || instruments[0]\n        : instruments[0];\n    const cardInstruments: CardInstrument[] = instruments.filter(\n        (i): i is CardInstrument => !isBankAccountInstrument(i),\n    );\n    const accountInstruments: AccountInstrument[] = instruments.filter(\n        (i): i is AccountInstrument => isBankAccountInstrument(i),\n    );\n    const shouldShowInstrumentFieldset = isInstrumentFeatureAvailableProp && instruments.length > 0;\n    const shouldShowCreditCardFieldset = !shouldShowInstrumentFieldset || isAddingNewCard;\n    const isLoading = (isInitializing || isLoadingInstruments) && !hideWidget;\n    const selectedAccountInstrument = selectedInstrument\n        ? getSelectedBankAccountInstrument(isAddingNewCard, selectedInstrument)\n        : undefined;\n    const shouldShowAccountInstrument = instruments[0] && isBankAccountInstrument(instruments[0]);\n\n    useEffect(() => {\n        const init = async () => {\n            setValidationSchema(method, getValidationSchema());\n\n            try {\n                if (isInstrumentFeatureAvailableProp) {\n                    await loadInstruments?.();\n                }\n\n                await initializeMethod();\n            } catch (error: unknown) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        };\n\n        void init();\n\n        return () => {\n            const deInit = async () => {\n                setValidationSchema(method, null);\n                setSubmit(method, null);\n\n                try {\n                    if (deinitializePayment) {\n                        await deinitializePayment({\n                            gatewayId: method.gateway,\n                            methodId: method.id,\n                        });\n                    }\n\n                    if (deinitializeCustomer) {\n                        await deinitializeCustomer({ methodId: method.id });\n                    }\n                } catch (error: unknown) {\n                    if (error instanceof Error) {\n                        onUnhandledError(error);\n                    }\n                }\n            };\n\n            void deInit();\n        };\n    }, []);\n\n    const isInitialRenderRef = useRef(true);\n    const instrumentsLength = useRef(instruments.length);\n    const isPaymentDataRequiredRef = useRef(isPaymentDataRequired);\n    const selectedInstrumentIdRef = useRef(selectedInstrumentId);\n\n    useEffect(() => {\n        if (isInitialRenderRef.current) {\n            isInitialRenderRef.current = false;\n\n            return;\n        }\n\n        setValidationSchema(method, getValidationSchema());\n\n        const reInit = async () => {\n            try {\n                if (deinitializePayment) {\n                    await deinitializePayment({\n                        gatewayId: method.gateway,\n                        methodId: method.id,\n                    });\n                }\n\n                await initializeMethod();\n            } catch (error: unknown) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        };\n\n        if (\n            selectedInstrumentIdRef.current !== selectedInstrumentId ||\n            (Number(instrumentsLength.current) > 0 && instruments.length === 0) ||\n            isPaymentDataRequiredRef.current !== isPaymentDataRequired\n        ) {\n            selectedInstrumentIdRef.current = selectedInstrumentId;\n            instrumentsLength.current = instruments.length;\n            isPaymentDataRequiredRef.current = isPaymentDataRequired;\n\n            void reInit();\n        }\n    }, [selectedInstrumentId, instruments, isPaymentDataRequired]);\n\n    if (!shouldShow) {\n        return <div style={{ display: 'none' }} />;\n    }\n\n    return (\n        <LoadingOverlay hideContentWhenLoading isLoading={isLoading}>\n            <div className=\"paymentMethod--hosted\">\n                {shouldShowAccountInstrument && shouldShowInstrumentFieldset && (\n                    <AccountInstrumentFieldset\n                        instruments={accountInstruments}\n                        onSelectInstrument={handleSelectInstrument}\n                        onUseNewInstrument={handleUseNewCard}\n                        selectedInstrument={selectedAccountInstrument}\n                    />\n                )}\n                {!shouldShowAccountInstrument && shouldShowInstrumentFieldset && (\n                    <CardInstrumentFieldset\n                        instruments={cardInstruments}\n                        onDeleteInstrument={handleDeleteInstrument}\n                        onSelectInstrument={handleSelectInstrument}\n                        onUseNewInstrument={handleUseNewCard}\n                        selectedInstrumentId={effectiveSelectedInstrumentId}\n                        shouldHideExpiryDate={shouldHideInstrumentExpiryDate}\n                        validateInstrument={getValidateInstrument()}\n                    />\n                )}\n\n                <PaymentDescriptor\n                    paymentDescriptor={paymentDescriptor}\n                    shouldShowDescriptor={shouldShowDescriptor}\n                />\n\n                <PaymentWidget\n                    additionalContainerClassName={additionalContainerClassName}\n                    containerId={containerId}\n                    hideContentWhenSignedOut={hideContentWhenSignedOut}\n                    hideWidget={hideWidget}\n                    isSignInRequired={isSignInRequired}\n                    isSignedIn={isSignedIn}\n                    method={method}\n                    renderCustomPaymentForm={renderCustomPaymentForm}\n                    shouldRenderCustomInstrument={shouldRenderCustomInstrument}\n                    shouldShowCreditCardFieldset={shouldShowCreditCardFieldset}\n                />\n\n                {isInstrumentFeatureAvailableProp && (\n                    <StoreInstrumentFieldset\n                        instrumentId={effectiveSelectedInstrumentId}\n                        instruments={instruments}\n                        isAccountInstrument={Boolean(\n                            isAccountInstrument || shouldShowAccountInstrument,\n                        )}\n                    />\n                )}\n\n                <EditButton buttonId={buttonId} shouldShowEditButton={shouldShowEditButton} />\n            </div>\n        </LoadingOverlay>\n    );\n};\n\nexport default HostedWidgetPaymentComponent;\n","import { noop } from 'lodash';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { getAppliedStyles } from '@bigcommerce/checkout/dom-utils';\nimport { FormContext, FormFieldContainer, TextInput } from '@bigcommerce/checkout/ui';\n\nexport enum CreditCardInputStylesType {\n    Default = 'default',\n    Error = 'error',\n    Focus = 'focus',\n}\n\nexport default function getCreditCardInputStyles(\n    containerId: string,\n    properties: string[],\n    type: CreditCardInputStylesType = CreditCardInputStylesType.Default,\n): Promise<{ [key: string]: string }> {\n    const container = document.createElement('div');\n    const parentContainer = document.getElementById(containerId);\n\n    if (!parentContainer) {\n        throw new Error(\n            'Unable to retrieve input styles as the provided container ID is not valid.',\n        );\n    }\n\n    parentContainer.appendChild(container);\n\n    return new Promise((resolve) => {\n        const callbackRef = (element: HTMLInputElement | null) => {\n            if (!element) {\n                return;\n            }\n\n            resolve(getAppliedStyles(element, properties));\n\n            ReactDOM.unmountComponentAtNode(container);\n\n            if (container.parentElement) {\n                container.parentElement.removeChild(container);\n            }\n        };\n\n        ReactDOM.render(\n            <FormContext.Provider value={{ isSubmitted: true, setSubmitted: noop }}>\n                <FormFieldContainer hasError={type === CreditCardInputStylesType.Error}>\n                    <TextInput\n                        appearFocused={type === CreditCardInputStylesType.Focus}\n                        ref={callbackRef}\n                    />\n                </FormFieldContainer>\n            </FormContext.Provider>,\n            container,\n        );\n    });\n}\n","import { isEmpty } from 'lodash';\n\nimport { getAppliedStyles } from '@bigcommerce/checkout/dom-utils';\n\nimport type { StripeAppearanceOptions, StripeCustomFont } from '../stripe-types';\n\nconst radioIconInnerScaleList = {\n    default: 0.66,\n    themeV2: 0.36,\n};\n\nconst getStylesFromElement = (\n    selector: string,\n    properties: string[],\n    pseudoElementSelector?: string,\n) => {\n    const element = document.querySelector<HTMLElement>(selector);\n\n    return element ? getAppliedStyles(element, properties, pseudoElementSelector) : {};\n};\n\nconst parseRadioIconSize = (size: string | number = 0): number =>\n    typeof size !== 'number' ? parseFloat(size) : size;\n\nconst getRadioIconSizes = (sizes?: Record<string, string | number | undefined>) => {\n    const {\n        radioIconOuterWidth = 26,\n        radioIconOuterStrokeWidth = 1,\n        radioIconInnerWidth = 17,\n    } = sizes || {};\n    const stripeSVGSizeCoefficient = 0.88; // Provided by Stripe team for scaling SVGs.\n\n    const percentageCoefficient = stripeSVGSizeCoefficient * 100;\n    const outerWidth = parseRadioIconSize(radioIconOuterWidth);\n    const outerStrokeWidth = parseRadioIconSize(radioIconOuterStrokeWidth);\n    const innerWidth = parseRadioIconSize(radioIconInnerWidth);\n\n    const stripeEqualOuterWidth = (outerWidth / stripeSVGSizeCoefficient).toFixed(2);\n    const stripeEqualOuterStrokeWidth = (\n        (outerStrokeWidth / outerWidth) *\n        percentageCoefficient\n    ).toFixed(2);\n    const stripeEqualInnerRadius = (\n        ((innerWidth / outerWidth) * percentageCoefficient) /\n        2\n    ).toFixed(2);\n\n    return {\n        outerWidth: `${stripeEqualOuterWidth}px`,\n        outerStrokeWidth: `${stripeEqualOuterStrokeWidth}px`,\n        innerRadius: stripeEqualInnerRadius,\n    };\n};\n\nconst getScaleFromTransformMatrix = (transformMatrixString = ''): number | undefined => {\n    const transformMatrixRegex = /matrix\\(([^)]+)\\)/;\n    const transformMatrix = transformMatrixRegex.exec(transformMatrixString);\n\n    if (!transformMatrix) {\n        return undefined;\n    }\n\n    const matrixValues = transformMatrix[1].split(',').map((value) => parseFloat(value.trim()));\n\n    return matrixValues[0];\n};\n\nexport const getFonts = (selector = 'link[href*=\"font\"]'): StripeCustomFont[] => {\n    const elementsList: NodeListOf<Element> = document.querySelectorAll(selector);\n    const fonts: StripeCustomFont[] = [];\n\n    elementsList.forEach((element: Element | null) => {\n        const fontSrc = element?.getAttribute('href');\n\n        if (fontSrc) {\n            fonts.push({ cssSrc: fontSrc });\n        }\n    });\n\n    return fonts;\n};\n\nexport const getAppearanceForOCSElement = (\n    containerId: string,\n    theme: keyof typeof radioIconInnerScaleList = 'default',\n): StripeAppearanceOptions => {\n    const defaultAccordionPaddingHorizontal = '18px';\n    const defaultAccordionPaddingVertical = '13px';\n    const defaultRadioIconInnerScale = radioIconInnerScaleList[theme];\n\n    const formInputStyles = getStylesFromElement(`#${containerId}--input`, [\n        'color',\n        'background-color',\n        'border-color',\n        'box-shadow',\n        'font-family',\n    ]);\n    const formLabelStyles = getStylesFromElement(`#${containerId}--label`, ['color']);\n    const formErrorStyles = getStylesFromElement(`#${containerId}--error`, ['color']);\n    const accordionHeaderLabelStyles = getStylesFromElement(\n        `#${containerId}--accordion-header .form-label`,\n        [\n            'color',\n            'font-size',\n            'font-family',\n            'font-weight',\n            'padding-top',\n            'padding-right',\n            'padding-bottom',\n        ],\n    );\n    const accordionHeaderStyles = getStylesFromElement(`#${containerId}--accordion-header`, [\n        'background-color',\n    ]);\n    const accordionSelectedHeaderStyles = getStylesFromElement(\n        `#${containerId}--accordion-header-selected`,\n        ['background-color', 'border-color', 'margin-bottom', 'margin-top'],\n    );\n    const formChecklistStyles = getStylesFromElement(\n        `#${containerId}--accordion-header.optimizedCheckout-form-checklist-item`,\n        [\n            'border-bottom',\n            'border-top',\n            'border-left',\n            'border-right',\n            'border-color',\n            'border-radius',\n        ],\n    );\n    const {\n        color: accordionHeaderColor,\n        'font-size': accordionItemTitleFontSize,\n        'font-family': accordionHeaderFontFamily,\n        'font-weight': accordionItemTitleFontWeight,\n        'padding-top': accordionPaddingTop = defaultAccordionPaddingVertical,\n        'padding-right': accordionPaddingRight = defaultAccordionPaddingHorizontal,\n        'padding-bottom': accordionPaddingBottom = defaultAccordionPaddingVertical,\n    } = accordionHeaderLabelStyles;\n    const accordionHeaderPadding = !isEmpty(accordionHeaderLabelStyles)\n        ? `${accordionPaddingTop} ${accordionPaddingRight} ${accordionPaddingBottom} ${defaultAccordionPaddingHorizontal}`\n        : undefined;\n    const radioOuter = getStylesFromElement(\n        `#${containerId}--accordion-header .form-label`,\n        ['border-color', 'border-width', 'width', 'background-color'],\n        '::before',\n    );\n    const radioInner = getStylesFromElement(\n        `#${containerId}--accordion-header .form-label`,\n        ['border-color', 'border-width', 'width', 'background-color'],\n        '::after',\n    );\n    const radioOuterChecked = getStylesFromElement(\n        `#${containerId}--accordion-header-selected .form-label`,\n        ['border-color', 'background-color'],\n        '::before',\n    );\n    let radioInnerChecked = getStylesFromElement(\n        `.form-checklist-header--selected .form-label`,\n        ['border-color', 'background-color', 'width', 'transform'],\n        '::after',\n    );\n\n    if (isEmpty(radioInnerChecked)) {\n        radioInnerChecked = getStylesFromElement(\n            `#${containerId}--accordion-header-selected .form-label`,\n            ['border-color', 'background-color', 'width', 'transform'],\n            '::after',\n        );\n    }\n\n    const radioInnerParsedSize = radioInnerChecked.width || radioOuter.width;\n    const radioInnerWidthScale =\n        getScaleFromTransformMatrix(radioInnerChecked.transform) || defaultRadioIconInnerScale;\n    const radioIconSize = getRadioIconSizes({\n        radioIconOuterWidth: radioOuter.width,\n        radioIconOuterStrokeWidth: radioOuter['border-width'],\n        radioIconInnerWidth:\n            radioInnerParsedSize && parseRadioIconSize(radioInnerParsedSize) * radioInnerWidthScale,\n    });\n\n    return {\n        variables: {\n            colorPrimary: formInputStyles['box-shadow'],\n            colorBackground: formInputStyles['background-color'],\n            colorText: formLabelStyles.color,\n            colorDanger: formErrorStyles.color,\n            colorTextSecondary: formLabelStyles.color,\n            colorTextPlaceholder: formInputStyles.color,\n            colorIcon: formInputStyles.color,\n            fontFamily: accordionHeaderFontFamily || formInputStyles['font-family'],\n        },\n        rules: {\n            '.Input': {\n                borderColor: formInputStyles['border-color'],\n                color: formInputStyles.color,\n                boxShadow: formInputStyles['box-shadow'],\n            },\n            '.AccordionItem': {\n                borderRadius: formChecklistStyles['border-radius'],\n                borderTop: formChecklistStyles['border-top'],\n                borderRight: formChecklistStyles['border-right'],\n                borderBottom: formChecklistStyles['border-bottom'],\n                borderLeft: formChecklistStyles['border-left'],\n                borderColor: formChecklistStyles['border-color'],\n                marginBottom: accordionSelectedHeaderStyles['margin-bottom'],\n                marginTop: accordionSelectedHeaderStyles['margin-top'],\n                backgroundColor: accordionHeaderStyles['background-color'],\n                boxShadow: 'none',\n                fontSize: accordionItemTitleFontSize,\n                fontWeight: accordionItemTitleFontWeight,\n                color: accordionHeaderColor,\n                padding: accordionHeaderPadding,\n            },\n            '.AccordionItem:hover': {\n                backgroundColor: accordionSelectedHeaderStyles['background-color'],\n                color: accordionHeaderColor,\n            },\n            '.AccordionItem--selected': {\n                fontWeight: 'bold',\n                color: accordionHeaderColor,\n                backgroundColor: accordionSelectedHeaderStyles['background-color'],\n                borderColor: accordionSelectedHeaderStyles['border-color'],\n            },\n            '.TabLabel': {\n                color: accordionHeaderColor,\n            },\n            '.RadioIcon': {\n                width: radioIconSize.outerWidth,\n            },\n            '.RadioIconInner': {\n                r: radioIconSize.innerRadius,\n                fill: radioInner['background-color'],\n            },\n            '.RadioIconOuter': {\n                strokeWidth: radioIconSize.outerStrokeWidth,\n                stroke: radioOuter['border-color'],\n                fill: radioOuter['background-color'],\n            },\n            '.RadioIconInner--checked': {\n                r: radioIconSize.innerRadius,\n                fill: radioInnerChecked['background-color'],\n            },\n            '.RadioIconOuter--checked': {\n                stroke: radioOuterChecked['border-color'],\n                fill: radioOuterChecked['background-color'],\n            },\n        },\n    };\n};\n","import {\n    type CustomerInitializeOptions,\n    type PaymentInitializeOptions,\n} from '@bigcommerce/checkout-sdk';\nimport {\n    createStripeCSPaymentStrategy,\n    createStripeLinkV2CustomerStrategy,\n    createStripeOCSPaymentStrategy,\n} from '@bigcommerce/checkout-sdk/integrations/stripe';\nimport { noop, some } from 'lodash';\nimport React, {\n    type FunctionComponent,\n    useCallback,\n    useContext,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\n\nimport { useThemeContext } from '@bigcommerce/checkout/contexts';\nimport { HostedWidgetPaymentComponent } from '@bigcommerce/checkout/hosted-widget-integration';\nimport {\n    isInstrumentCardCodeRequiredSelector,\n    isInstrumentCardNumberRequiredSelector,\n} from '@bigcommerce/checkout/instrument-utils';\nimport {\n    type PaymentMethodProps,\n    type PaymentMethodResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\nimport { AccordionContext, ChecklistSkeleton } from '@bigcommerce/checkout/ui';\n\nimport { getAppearanceForOCSElement, getFonts } from './getStripeOCSStyles';\n\nconst StripeOCSPaymentMethod: FunctionComponent<PaymentMethodProps> = ({\n    paymentForm,\n    checkoutState,\n    checkoutService,\n    method,\n    onUnhandledError = noop,\n    ...rest\n}) => {\n    const collapseStripeElement = useRef<() => void>();\n    const toggleUpdateTimeout = useRef<ReturnType<typeof setTimeout>>();\n    const { onToggle, selectedItemId } = useContext(AccordionContext);\n    const [selectedPaymentMethodId, setSelectedPaymentMethodId] = useState<string | undefined>(\n        selectedItemId,\n    );\n    const [isOCSLoading, setIsOCSLoading] = useState(false);\n    const { themeV2 } = useThemeContext();\n    const methodSelector = `${method.gateway}-${method.id}`;\n    const containerId = `${methodSelector}-component-field`;\n    const paymentContext = paymentForm;\n\n    useEffect(() => {\n        /* INFO:\n         * switching and loading BC accordion item takes more time than preloaded Stripe accordion items, and BC accordion toggle is blocked during loading\n         * switching BC accordion items and loading payment methods triggers state update for BC accordion context\n         * thats why we need to double call onToggle for BC accordion with actual context state, for cases when the first toggle call has no effect because of loading state\n         */\n        if (toggleUpdateTimeout.current) {\n            clearTimeout(toggleUpdateTimeout.current);\n            toggleUpdateTimeout.current = undefined;\n        }\n\n        if (!!selectedPaymentMethodId && selectedItemId !== selectedPaymentMethodId) {\n            toggleUpdateTimeout.current = setTimeout(() => {\n                onToggle(selectedPaymentMethodId);\n            }, 100);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [onToggle]);\n\n    useEffect(() => {\n        if (selectedItemId === methodSelector) {\n            return;\n        }\n\n        setSelectedPaymentMethodId(selectedItemId);\n        collapseStripeElement.current?.();\n    }, [selectedItemId, methodSelector]);\n\n    useEffect(() => {\n        if (selectedPaymentMethodId !== methodSelector) {\n            return;\n        }\n\n        onToggle(selectedPaymentMethodId);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [selectedPaymentMethodId, methodSelector]);\n\n    const renderSubmitButton = useCallback(() => {\n        paymentContext.hidePaymentSubmitButton(method, false);\n    }, [paymentContext, method]);\n\n    const {\n        hidePaymentSubmitButton,\n        disableSubmit,\n        setFieldValue,\n        setSubmit,\n        setValidationSchema,\n    } = paymentForm;\n    const instruments = checkoutState.data.getInstruments(method) || [];\n    const {\n        data: { getCheckout, isPaymentDataRequired },\n        statuses: { isLoadingInstruments },\n    } = checkoutState;\n    const checkout = getCheckout();\n    const {\n        initializationData: { isCustomChecklistItem },\n    } = method;\n\n    const initializeStripePayment = useCallback(\n        async (options: PaymentInitializeOptions) => {\n            setIsOCSLoading(true);\n\n            const theme = themeV2 ? 'themeV2' : undefined;\n\n            return checkoutService.initializePayment({\n                ...options,\n                integrations: [createStripeOCSPaymentStrategy, createStripeCSPaymentStrategy],\n                stripeocs: {\n                    containerId,\n                    layout: {\n                        type: isCustomChecklistItem ? 'accordion' : 'auto',\n                        defaultCollapsed: selectedItemId !== methodSelector,\n                        radios: true,\n                        linkInAccordion: true,\n                        spacedAccordionItems: !!themeV2,\n                        visibleAccordionItemsCount: 0,\n                    },\n                    appearance: getAppearanceForOCSElement(containerId, theme),\n                    fonts: getFonts(),\n                    onError: onUnhandledError,\n                    render: renderSubmitButton,\n                    paymentMethodSelect: setSelectedPaymentMethodId,\n                    handleClosePaymentMethod: (collapseElement: () => void) => {\n                        collapseStripeElement.current = collapseElement;\n                    },\n                    togglePreloader: setIsOCSLoading,\n                },\n            });\n        },\n        [\n            containerId,\n            selectedItemId,\n            methodSelector,\n            isCustomChecklistItem,\n            themeV2,\n            checkoutService,\n            onUnhandledError,\n            renderSubmitButton,\n            setSelectedPaymentMethodId,\n            setIsOCSLoading,\n        ],\n    );\n\n    const initializeStripeCustomer = useCallback(\n        (options: CustomerInitializeOptions) => {\n            return checkoutService.initializeCustomer({\n                ...options,\n                integrations: [createStripeLinkV2CustomerStrategy],\n            });\n        },\n        [checkoutService],\n    );\n\n    if (!isPaymentDataRequired()) {\n        return null;\n    }\n\n    const renderCustomOCSSectionStyles = () => {\n        return themeV2 ? (\n            <style>\n                {`\n                    .custom-checklist-item#radio-${methodSelector} {\n                        border: none;\n                    }\n                `}\n            </style>\n        ) : (\n            <style>\n                {`\n                    .custom-checklist-item#radio-${methodSelector} {\n                        border-bottom: none;\n                    }\n                    .custom-checklist-item#radio-${methodSelector}:last-of-type {\n                        margin-bottom: -1px;\n                    }\n                `}\n            </style>\n        );\n    };\n\n    const renderCheckoutElementsForStripeOCSStyling = () => (\n        <div style={{ display: 'none' }}>\n            <div\n                className=\"form-checklist-item optimizedCheckout-form-checklist-item\"\n                id={`${containerId}--accordion-header`}\n            >\n                <input\n                    className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\"\n                    id={`${containerId}-radio-input`}\n                    type=\"radio\"\n                />\n                <div className=\"form-label optimizedCheckout-form-label sub-header\" />\n            </div>\n            <div\n                className=\"form-checklist-item optimizedCheckout-form-checklist-item form-checklist-item--selected optimizedCheckout-form-checklist-item--selected\"\n                id={`${containerId}--accordion-header-selected`}\n            >\n                <div\n                    className=\"form-checklist-header--selected\"\n                    id={`${containerId}--accordion-header-selected`}\n                >\n                    <input\n                        className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\"\n                        defaultChecked\n                        id={`${containerId}-radio-input-selected`}\n                        type=\"radio\"\n                    />\n                    <div className=\"form-label optimizedCheckout-form-label\" />\n                </div>\n            </div>\n            <div className=\"optimizedCheckout-form-input\" id={`${containerId}--input`}>\n                <div className=\"form-field--error\">\n                    <div className=\"optimizedCheckout-form-label\" id={`${containerId}--error`} />\n                </div>\n                <div className=\"optimizedCheckout-form-label\" id={`${containerId}--label`} />\n            </div>\n        </div>\n    );\n\n    const renderPreloader = () => (\n        <div data-test=\"stripe-accordion-skeleton\" style={{ padding: '10px 18px' }}>\n            <ChecklistSkeleton />\n        </div>\n    );\n\n    return (\n        <>\n            {isOCSLoading ? renderPreloader() : renderCustomOCSSectionStyles()}\n\n            <HostedWidgetPaymentComponent\n                {...rest}\n                containerId={containerId}\n                deinitializePayment={checkoutService.deinitializePayment}\n                disableSubmit={disableSubmit}\n                hideContentWhenSignedOut\n                hidePaymentSubmitButton={hidePaymentSubmitButton}\n                initializeCustomer={initializeStripeCustomer}\n                initializePayment={initializeStripePayment}\n                instruments={instruments}\n                isInstrumentCardCodeRequired={isInstrumentCardCodeRequiredSelector(checkoutState)}\n                isInstrumentCardNumberRequired={isInstrumentCardNumberRequiredSelector(\n                    checkoutState,\n                )}\n                isInstrumentFeatureAvailable={false}\n                isLoadingInstruments={isLoadingInstruments()}\n                isPaymentDataRequired={isPaymentDataRequired()}\n                isSignedIn={some(checkout?.payments, { providerId: method.id })}\n                loadInstruments={checkoutService.loadInstruments}\n                method={method}\n                setFieldValue={setFieldValue}\n                setSubmit={setSubmit}\n                setValidationSchema={setValidationSchema}\n                signOut={checkoutService.signOutCustomer}\n            />\n            {renderCheckoutElementsForStripeOCSStyling()}\n        </>\n    );\n};\n\nexport default toResolvableComponent<PaymentMethodProps, PaymentMethodResolveId>(\n    StripeOCSPaymentMethod,\n    [\n        { gateway: 'stripeocs', id: 'optimized_checkout' },\n        { gateway: 'stripeocs', id: 'checkout_session' },\n    ],\n);\n","import {\n    type CustomerInitializeOptions,\n    type PaymentInitializeOptions,\n} from '@bigcommerce/checkout-sdk';\nimport {\n    createStripeUPECustomerStrategy,\n    createStripeUPEPaymentStrategy,\n} from '@bigcommerce/checkout-sdk/integrations/stripe';\nimport { noop, some } from 'lodash';\nimport React, { type FunctionComponent, useCallback, useMemo } from 'react';\n\nimport { getAppliedStyles } from '@bigcommerce/checkout/dom-utils';\nimport { HostedWidgetPaymentComponent } from '@bigcommerce/checkout/hosted-widget-integration';\nimport {\n    isInstrumentCardCodeRequiredSelector,\n    isInstrumentCardNumberRequiredSelector,\n} from '@bigcommerce/checkout/instrument-utils';\nimport {\n    type PaymentMethodProps,\n    type PaymentMethodResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nconst StripeUPEPaymentMethod: FunctionComponent<PaymentMethodProps> = ({\n    paymentForm,\n    checkoutState,\n    checkoutService,\n    method,\n    onUnhandledError = noop,\n    ...rest\n}) => {\n    const containerId = `stripe-${method.id}-component-field`;\n    const paymentContext = paymentForm;\n\n    const renderSubmitButton = useCallback(() => {\n        paymentContext.hidePaymentSubmitButton(method, false);\n    }, [paymentContext, method]);\n\n    const {\n        hidePaymentSubmitButton,\n        disableSubmit,\n        setFieldValue,\n        setSubmit,\n        setValidationSchema,\n    } = paymentForm;\n    const instruments = checkoutState.data.getInstruments(method) || [];\n\n    const {\n        data: { getCheckout, isPaymentDataRequired, getPaymentProviderCustomer },\n        statuses: { isLoadingInstruments },\n    } = checkoutState;\n    const checkout = getCheckout();\n    const customer = checkoutState.data.getCustomer();\n    const paymentProviderCustomer = getPaymentProviderCustomer();\n    const isStripeLinkAuthenticated = paymentProviderCustomer?.stripeLinkAuthenticationState;\n    const isGuestCustomer = customer?.isGuest;\n    const shouldSavingCardsBeEnabled = useMemo((): boolean => {\n        if (!isGuestCustomer && isStripeLinkAuthenticated) {\n            return false;\n        }\n\n        return true;\n    }, [isGuestCustomer, isStripeLinkAuthenticated]);\n    const isInstrumentFeatureAvailable =\n        shouldSavingCardsBeEnabled && !isGuestCustomer && Boolean(method.config.isVaultingEnabled);\n\n    const getStylesFromElement = (id: string, properties: string[]) => {\n        const parentContainer = document.getElementById(id);\n\n        if (!parentContainer) {\n            throw new Error(\n                'Unable to retrieve input styles as the provided container ID is not valid.',\n            );\n        }\n\n        return getAppliedStyles(parentContainer, properties);\n    };\n\n    const initializeStripePayment = useCallback(\n        async (options: PaymentInitializeOptions) => {\n            const formInput = getStylesFromElement(`${containerId}--input`, [\n                'color',\n                'background-color',\n                'border-color',\n                'box-shadow',\n            ]);\n            const formLabel = getStylesFromElement(`${containerId}--label`, ['color']);\n            const formError = getStylesFromElement(`${containerId}--error`, ['color']);\n\n            paymentContext.hidePaymentSubmitButton(method, true);\n\n            return checkoutService.initializePayment({\n                ...options,\n                integrations: [createStripeUPEPaymentStrategy],\n                stripeupe: {\n                    containerId,\n                    style: {\n                        labelText: formLabel.color,\n                        fieldText: formInput.color,\n                        fieldPlaceholderText: formInput.color,\n                        fieldErrorText: formError.color,\n                        fieldBackground: formInput['background-color'],\n                        fieldInnerShadow: formInput['box-shadow'],\n                        fieldBorder: formInput['border-color'],\n                    },\n                    onError: onUnhandledError,\n                    render: renderSubmitButton,\n                },\n            });\n        },\n        [\n            checkoutService,\n            containerId,\n            onUnhandledError,\n            method,\n            paymentContext,\n            renderSubmitButton,\n        ],\n    );\n\n    const initializeStripeCustomer = useCallback(\n        (options: CustomerInitializeOptions) => {\n            return checkoutService.initializeCustomer({\n                ...options,\n                integrations: [createStripeUPECustomerStrategy],\n            });\n        },\n        [checkoutService],\n    );\n\n    const renderCheckoutThemeStylesForStripeUPE = () => {\n        return (\n            <div className=\"optimizedCheckout-form-input\" id={`${containerId}--input`}>\n                <div className=\"form-field--error\">\n                    <div className=\"optimizedCheckout-form-label\" id={`${containerId}--error`} />\n                </div>\n                <div className=\"optimizedCheckout-form-label\" id={`${containerId}--label`} />\n            </div>\n        );\n    };\n\n    return (\n        <>\n            <HostedWidgetPaymentComponent\n                {...rest}\n                containerId={containerId}\n                deinitializePayment={checkoutService.deinitializePayment}\n                disableSubmit={disableSubmit}\n                hideContentWhenSignedOut\n                hidePaymentSubmitButton={hidePaymentSubmitButton}\n                initializeCustomer={initializeStripeCustomer}\n                initializePayment={initializeStripePayment}\n                instruments={instruments}\n                isInstrumentCardCodeRequired={isInstrumentCardCodeRequiredSelector(checkoutState)}\n                isInstrumentCardNumberRequired={isInstrumentCardNumberRequiredSelector(\n                    checkoutState,\n                )}\n                isInstrumentFeatureAvailable={isInstrumentFeatureAvailable}\n                isLoadingInstruments={isLoadingInstruments()}\n                isPaymentDataRequired={isPaymentDataRequired()}\n                isSignedIn={some(checkout?.payments, { providerId: method.id })}\n                loadInstruments={checkoutService.loadInstruments}\n                method={method}\n                setFieldValue={setFieldValue}\n                setSubmit={setSubmit}\n                setValidationSchema={setValidationSchema}\n                signOut={checkoutService.signOutCustomer}\n            />\n            {renderCheckoutThemeStylesForStripeUPE()}\n        </>\n    );\n};\n\nexport default toResolvableComponent<PaymentMethodProps, PaymentMethodResolveId>(\n    StripeUPEPaymentMethod,\n    [{ gateway: 'stripeupe' }, { gateway: 'stripeupe', id: 'klarna' }],\n);\n","import classNames from 'classnames';\nimport React from 'react';\n\nimport { CreditCardCodeTooltip } from '@bigcommerce/checkout/instrument-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { IconHelp, IconLock, TooltipTrigger } from '@bigcommerce/checkout/ui';\n\nexport interface StripeV3CustomCardFormProps {\n    options: {\n        cardNumberElementOptions: {\n            containerId: string;\n        };\n        cardExpiryElementOptions: {\n            containerId: string;\n        };\n        cardCvcElementOptions: {\n            containerId: string;\n        };\n    };\n}\n\nconst StripeV3CustomCardForm: React.FunctionComponent<StripeV3CustomCardFormProps> = ({\n    options,\n}) => (\n    <div className=\"form-ccFields\">\n        <div className={classNames('form-field', 'form-field--stripe-ccNumber')}>\n            <label\n                className=\"form-label optimizedCheckout-form-label\"\n                htmlFor={options.cardNumberElementOptions.containerId}\n            >\n                <TranslatedString id=\"payment.credit_card_number_label\" />\n            </label>\n            <div\n                className={classNames(\n                    'form-input',\n                    'optimizedCheckout-form-input',\n                    'has-icon',\n                    'widget-input--stripev3',\n                )}\n                data-cse=\"CardNumber\"\n                id={options.cardNumberElementOptions.containerId}\n            />\n            <IconLock />\n        </div>\n        <div className=\"form-field form-field--ccExpiry\">\n            <label\n                className=\"form-label optimizedCheckout-form-label\"\n                htmlFor={options.cardExpiryElementOptions.containerId}\n            >\n                <TranslatedString id=\"payment.credit_card_expiration_label\" />\n            </label>\n            <div\n                className={classNames(\n                    'form-input',\n                    'optimizedCheckout-form-input',\n                    'widget-input--stripev3',\n                )}\n                data-cse=\"ExpiryDate\"\n                id={options.cardExpiryElementOptions.containerId}\n            />\n        </div>\n        <div className=\"form-field form-ccFields-field--ccCvv\">\n            <label\n                className=\"form-label optimizedCheckout-form-label\"\n                htmlFor={options.cardCvcElementOptions.containerId}\n            >\n                <TranslatedString id=\"payment.credit_card_cvv_label\" />\n                <TooltipTrigger placement=\"top-start\" tooltip={<CreditCardCodeTooltip />}>\n                    <span className=\"has-tip\">\n                        <IconHelp />\n                    </span>\n                </TooltipTrigger>\n            </label>\n            <div\n                className={classNames(\n                    'form-input',\n                    'optimizedCheckout-form-input',\n                    'has-icon',\n                    'widget-input--stripev3',\n                )}\n                data-cse=\"SecurityCode\"\n                id={options.cardCvcElementOptions.containerId}\n            />\n            <IconLock />\n        </div>\n    </div>\n);\n\nexport default StripeV3CustomCardForm;\n","import {\n    type CardInstrument,\n    type CustomError,\n    type PaymentInitializeOptions,\n    type StripeElementOptions,\n} from '@bigcommerce/checkout-sdk';\nimport { createStripeV3PaymentStrategy } from '@bigcommerce/checkout-sdk/integrations/stripe';\nimport { noop, some } from 'lodash';\nimport React, { type FunctionComponent, useCallback, useMemo } from 'react';\n\nimport { useHostedCreditCard } from '@bigcommerce/checkout/hosted-credit-card-integration';\nimport { HostedWidgetPaymentComponent } from '@bigcommerce/checkout/hosted-widget-integration';\nimport {\n    isInstrumentCardCodeRequiredSelector,\n    isInstrumentCardNumberRequiredSelector,\n} from '@bigcommerce/checkout/instrument-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport {\n    type PaymentMethodProps,\n    type PaymentMethodResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nimport StripeV3CustomCardForm from './StripeV3CustomCardForm';\n\nexport interface StripeOptions {\n    alipay?: StripeElementOptions;\n    card: StripeElementOptions;\n    cardCvc: StripeElementOptions;\n    cardExpiry: StripeElementOptions;\n    cardNumber: StripeElementOptions;\n    iban: StripeElementOptions;\n    idealBank: StripeElementOptions;\n}\n\nexport enum StripeElementType {\n    Alipay = 'alipay',\n    Card = 'card',\n    CardCvc = 'cardCvc',\n    CardExpiry = 'cardExpiry',\n    CardNumber = 'cardNumber',\n    Iban = 'iban',\n    IdealBank = 'idealBank',\n}\n\nconst StripeV3PaymentMethod: FunctionComponent<PaymentMethodProps> = ({\n    language,\n    paymentForm,\n    checkoutState,\n    checkoutService,\n    method,\n    onUnhandledError = noop,\n    ...rest\n}) => {\n    const { useIndividualCardFields } = method.initializationData;\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    const paymentMethodType = method.id as StripeElementType;\n    const additionalStripeV3Classes =\n        paymentMethodType !== StripeElementType.Alipay\n            ? 'optimizedCheckout-form-input widget--stripev3'\n            : '';\n    const containerId = `stripe-${paymentMethodType}-component-field`;\n    const stripeOptions: StripeOptions = useMemo(() => {\n        const classes = {\n            base: 'form-input optimizedCheckout-form-input',\n        };\n\n        return {\n            [StripeElementType.Card]: {\n                classes,\n            },\n            [StripeElementType.CardCvc]: {\n                classes,\n                placeholder: '',\n            },\n            [StripeElementType.CardExpiry]: {\n                classes,\n            },\n            [StripeElementType.CardNumber]: {\n                classes,\n                showIcon: true,\n                placeholder: '',\n            },\n            [StripeElementType.Iban]: {\n                classes,\n                supportedCountries: ['SEPA'],\n            },\n            [StripeElementType.IdealBank]: {\n                classes,\n            },\n        };\n    }, []);\n\n    const {\n        hidePaymentSubmitButton,\n        disableSubmit,\n        setFieldValue,\n        setSubmit,\n        setValidationSchema,\n    } = paymentForm;\n    const {\n        data: { getCheckout, isPaymentDataRequired, getCustomer, getConfig },\n        statuses: { isLoadingInstruments },\n    } = checkoutState;\n\n    const checkout = getCheckout();\n    const customer = getCustomer();\n    const config = getConfig();\n    const instruments = checkoutState.data.getInstruments(method) || [];\n    const isGuestCustomer = customer?.isGuest;\n    const isInstrumentFeatureAvailable =\n        !isGuestCustomer && Boolean(method.config.isVaultingEnabled);\n\n    const storeUrl = useMemo(() => {\n        if (!config) {\n            return null;\n        }\n\n        return config.links.siteLink;\n    }, [config]);\n\n    const onUnhandledStripeV3Error = useCallback(\n        (error: CustomError) => {\n            if (error.type === 'stripev3_error' && error.subtype === 'auth_failure') {\n                error.message = language.translate('payment.stripev3_auth_3ds_fail');\n            }\n\n            onUnhandledError(error);\n        },\n        [language, onUnhandledError],\n    );\n\n    const getIndividualCardElementOptions = useCallback(\n        (stripeInitializeOptions: StripeOptions) => {\n            return {\n                cardNumberElementOptions: {\n                    ...stripeInitializeOptions[StripeElementType.CardNumber],\n                    containerId: 'stripe-card-number-component-field',\n                },\n                cardExpiryElementOptions: {\n                    ...stripeInitializeOptions[StripeElementType.CardExpiry],\n                    containerId: 'stripe-expiry-component-field',\n                },\n                cardCvcElementOptions: {\n                    ...stripeInitializeOptions[StripeElementType.CardCvc],\n                    containerId: 'stripe-cvc-component-field',\n                },\n            };\n        },\n        [],\n    );\n\n    const getStripeOptions = useCallback(\n        (stripeInitializeOptions: StripeOptions) => {\n            if (useIndividualCardFields) {\n                return getIndividualCardElementOptions(stripeInitializeOptions);\n            }\n\n            return stripeInitializeOptions[paymentMethodType];\n        },\n        [paymentMethodType, getIndividualCardElementOptions, useIndividualCardFields],\n    );\n\n    const { getHostedStoredCardValidationFieldset, getHostedFormOptions } = useHostedCreditCard({\n        checkoutState,\n        method,\n        language,\n        paymentForm,\n    });\n\n    const initializeStripePayment = useCallback(\n        async (options: PaymentInitializeOptions, selectedInstrument: any) => {\n            return checkoutService.initializePayment({\n                ...options,\n                integrations: [createStripeV3PaymentStrategy],\n                stripev3: {\n                    containerId,\n                    options: getStripeOptions(stripeOptions),\n                    ...(selectedInstrument && {\n                        form: await getHostedFormOptions(selectedInstrument),\n                    }),\n                },\n            });\n        },\n        [containerId, getStripeOptions, stripeOptions, checkoutService, getHostedFormOptions],\n    );\n\n    const renderCustomPaymentForm = () => {\n        const optionsCustomForm = getIndividualCardElementOptions(stripeOptions);\n\n        return <StripeV3CustomCardForm options={optionsCustomForm} />;\n    };\n\n    const validateInstrument = (_shouldShowNumber: boolean, selectedInstrument: CardInstrument) => {\n        return getHostedStoredCardValidationFieldset(selectedInstrument);\n    };\n\n    return (\n        <>\n            <HostedWidgetPaymentComponent\n                {...rest}\n                additionalContainerClassName={additionalStripeV3Classes}\n                containerId={containerId}\n                deinitializePayment={checkoutService.deinitializePayment}\n                disableSubmit={disableSubmit}\n                hideContentWhenSignedOut\n                hidePaymentSubmitButton={hidePaymentSubmitButton}\n                initializePayment={initializeStripePayment}\n                instruments={instruments}\n                isInstrumentCardCodeRequired={isInstrumentCardCodeRequiredSelector(checkoutState)}\n                isInstrumentCardNumberRequired={isInstrumentCardNumberRequiredSelector(\n                    checkoutState,\n                )}\n                isInstrumentFeatureAvailable={isInstrumentFeatureAvailable}\n                isLoadingInstruments={isLoadingInstruments()}\n                isPaymentDataRequired={isPaymentDataRequired()}\n                isSignedIn={some(checkout?.payments, { providerId: method.id })}\n                loadInstruments={checkoutService.loadInstruments}\n                method={method}\n                onUnhandledError={onUnhandledStripeV3Error}\n                renderCustomPaymentForm={renderCustomPaymentForm}\n                setFieldValue={setFieldValue}\n                setSubmit={setSubmit}\n                setValidationSchema={setValidationSchema}\n                shouldRenderCustomInstrument={useIndividualCardFields}\n                signOut={checkoutService.signOutCustomer}\n                validateInstrument={validateInstrument}\n            />\n            {method.id === 'iban' && (\n                <p className=\"stripe-sepa-mandate-disclaimer\">\n                    <TranslatedString\n                        data={{ storeUrl }}\n                        id=\"payment.stripe_sepa_mandate_disclaimer\"\n                    />\n                </p>\n            )}\n        </>\n    );\n};\n\nexport default toResolvableComponent<PaymentMethodProps, PaymentMethodResolveId>(\n    StripeV3PaymentMethod,\n    [{ gateway: 'stripev3' }],\n);\n","import { createStripeLinkV2CustomerStrategy } from '@bigcommerce/checkout-sdk/integrations/stripe';\nimport React, { type FunctionComponent } from 'react';\n\nimport { CheckoutButton } from '@bigcommerce/checkout/checkout-button-integration';\nimport {\n    type CheckoutButtonProps,\n    type CheckoutButtonResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\nimport { navigateToOrderConfirmation } from '@bigcommerce/checkout/utility';\n\nconst StripeLinkV2Button: FunctionComponent<CheckoutButtonProps> = (props) => {\n    const additionalInitializationOptions = {\n        onComplete: navigateToOrderConfirmation,\n        loadingContainerId: 'checkout-app',\n        methodId: 'optimized_checkout',\n        gatewayId: 'stripeocs',\n    };\n\n    return (\n        <CheckoutButton\n            additionalInitializationOptions={additionalInitializationOptions}\n            integrations={[createStripeLinkV2CustomerStrategy]}\n            {...props}\n        />\n    );\n};\n\nexport default toResolvableComponent<CheckoutButtonProps, CheckoutButtonResolveId>(\n    StripeLinkV2Button,\n    [{ id: 'stripeocs' }],\n);\n","import classNames from 'classnames';\nimport React, { type FunctionComponent, type HTMLAttributes } from 'react';\n\nexport interface TextInputIframeContainerProps extends HTMLAttributes<HTMLDivElement> {\n    additionalClassName?: string;\n    appearFocused?: boolean;\n    testId?: string;\n}\n\nconst TextInputIframeContainer: FunctionComponent<TextInputIframeContainerProps> = ({\n    additionalClassName,\n    appearFocused,\n    testId,\n    ...props\n}) => (\n    <div\n        {...props}\n        className={classNames(\n            'form-input',\n            'optimizedCheckout-form-input',\n            { 'form-input--focus': appearFocused },\n            { 'optimizedCheckout-form-input--focus': appearFocused },\n            additionalClassName,\n        )}\n        data-test={testId}\n    />\n);\n\nexport default TextInputIframeContainer;\n"],"names":["checkoutService","deinitializeCustomer","initializeCustomer","checkoutButtonContainerClass","containerId","methodId","onUnhandledError","onWalletButtonClick","additionalInitializationOptions","integrations","useEffect","container","onClick","error","Error","className","id","getAppliedStyles","element","properties","pseudoElementSelector","declaration","window","getComputedStyle","reduce","result","propertyName","getPropertyValue","kebabCase","appearFocused","name","renderInput","useCallback","additionalClassName","labelContent","useMemo","placement","tooltip","input","cardCodeId","cardNumberId","cardExpiryId","focusedFieldType","useHostedCreditCard","checkoutState","method","language","paymentForm","setFieldTouched","setFieldValue","setSubmitted","submitForm","config","cardCode","requireCardCode","isCardCodeRequired","isInstrumentCardCodeRequiredProp","isInstrumentCardNumberRequiredProp","getHostedFieldId","compact","gateway","join","setFocusedFieldType","useState","getHostedStoredCardValidationFieldset","selectedInstrument","isInstrumentCardNumberRequired","isInstrumentCardCodeRequired","undefined","getHostedFormOptions","styleProps","styleContainerId","fields","cardCodeVerification","accessibilityLabel","translate","instrumentId","bigpayToken","cardNumberVerification","cardExpiry","placeholder","cardName","cardNumber","styles","default","focus","Focus","onBlur","fieldType","onCardTypeChange","cardType","onEnter","onFocus","onValidate","errors","forIn","fieldErrors","errorKey","type","EditButton","buttonId","shouldShowEditButton","translatedString","TranslatedString","preventDefault","PaymentDescriptor","shouldShowDescriptor","paymentDescriptor","PaymentWidget","additionalContainerClassName","hideContentWhenSignedOut","hideWidget","isSignInRequired","isSignedIn","renderCustomPaymentForm","shouldRenderCustomInstrument","shouldShowCreditCardFieldset","style","display","tabIndex","instruments","isInitializing","isAccountInstrument","isInstrumentFeatureAvailable","isInstrumentFeatureAvailableProp","isLoadingInstruments","shouldHideInstrumentExpiryDate","shouldShow","hideVerificationFields","storedCardValidationSchema","isPaymentDataRequired","setValidationSchema","loadInstruments","noop","deinitializePayment","setSubmit","initializePayment","signInCustomer","validateInstrument","isAddingNewCard","setIsAddingNewCard","selectedInstrumentId","setSelectedInstrumentId","instrumentsRef","useRef","current","getDefaultInstrumentId","defaultInstrument","find","instrument","getSelectedInstrument","currentSelectedId","getValidationSchema","currentSelectedInstrument","getSelectedBankAccountInstrument","addingNew","handleDeleteInstrument","length","nextId","handleUseNewCard","gatewayId","handleSelectInstrument","getValidateInstrument","shouldShowNumberField","initializeMethod","currentInstruments","selectedCardInstrument","currentSelectedInstrumentId","maybeInstrument","isCardInstrument","effectiveSelectedInstrumentId","i","cardInstruments","filter","accountInstruments","shouldShowInstrumentFieldset","isLoading","selectedAccountInstrument","shouldShowAccountInstrument","isInitialRenderRef","instrumentsLength","isPaymentDataRequiredRef","selectedInstrumentIdRef","Number","LoadingOverlay","hideContentWhenLoading","AccountInstrumentFieldset","A","onSelectInstrument","onUseNewInstrument","CardInstrumentFieldset","onDeleteInstrument","shouldHideExpiryDate","StoreInstrumentFieldset","Boolean","CreditCardInputStylesType","getCreditCardInputStyles","Default","document","createElement","parentContainer","getElementById","appendChild","Promise","resolve","Provider","value","isSubmitted","hasError","ref","parentElement","removeChild","radioIconInnerScaleList","themeV2","getStylesFromElement","selector","querySelector","parseRadioIconSize","size","parseFloat","getFonts","elementsList","querySelectorAll","fonts","forEach","fontSrc","getAttribute","push","cssSrc","getAppearanceForOCSElement","theme","defaultAccordionPaddingHorizontal","defaultAccordionPaddingVertical","defaultRadioIconInnerScale","formInputStyles","formLabelStyles","formErrorStyles","accordionHeaderLabelStyles","accordionHeaderStyles","accordionSelectedHeaderStyles","formChecklistStyles","color","accordionHeaderColor","accordionItemTitleFontSize","accordionHeaderFontFamily","accordionItemTitleFontWeight","accordionPaddingTop","accordionPaddingRight","accordionPaddingBottom","accordionHeaderPadding","isEmpty","radioOuter","radioInner","radioOuterChecked","radioInnerChecked","radioInnerParsedSize","width","radioInnerWidthScale","transformMatrixString","transformMatrix","exec","split","map","trim","getScaleFromTransformMatrix","transform","radioIconSize","sizes","radioIconOuterWidth","radioIconOuterStrokeWidth","radioIconInnerWidth","outerWidth","outerStrokeWidth","innerWidth","toFixed","stripeSVGSizeCoefficient","innerRadius","getRadioIconSizes","variables","colorPrimary","colorBackground","colorText","colorDanger","colorTextSecondary","colorTextPlaceholder","colorIcon","fontFamily","rules","borderColor","boxShadow","borderRadius","borderTop","borderRight","borderBottom","borderLeft","marginBottom","marginTop","backgroundColor","fontSize","fontWeight","padding","r","fill","strokeWidth","stroke","toResolvableComponent","rest","collapseStripeElement","toggleUpdateTimeout","onToggle","selectedItemId","useContext","AccordionContext","selectedPaymentMethodId","setSelectedPaymentMethodId","isOCSLoading","setIsOCSLoading","methodSelector","paymentContext","clearTimeout","setTimeout","renderSubmitButton","hidePaymentSubmitButton","disableSubmit","data","getInstruments","getCheckout","statuses","checkout","initializationData","isCustomChecklistItem","initializeStripePayment","options","stripeocs","layout","defaultCollapsed","radios","linkInAccordion","spacedAccordionItems","visibleAccordionItemsCount","appearance","onError","render","paymentMethodSelect","handleClosePaymentMethod","collapseElement","togglePreloader","initializeStripeCustomer","ChecklistSkeleton","HostedWidgetPaymentComponent","isInstrumentCardCodeRequiredSelector","isInstrumentCardNumberRequiredSelector","some","payments","providerId","signOut","signOutCustomer","defaultChecked","getPaymentProviderCustomer","customer","getCustomer","paymentProviderCustomer","isStripeLinkAuthenticated","stripeLinkAuthenticationState","isGuestCustomer","isGuest","isVaultingEnabled","formInput","formLabel","formError","stripeupe","labelText","fieldText","fieldPlaceholderText","fieldErrorText","fieldBackground","fieldInnerShadow","fieldBorder","htmlFor","cardNumberElementOptions","IconLock","cardExpiryElementOptions","cardCvcElementOptions","TooltipTrigger","CreditCardCodeTooltip","IconHelp","StripeElementType","useIndividualCardFields","paymentMethodType","additionalStripeV3Classes","Alipay","stripeOptions","classes","base","Card","CardCvc","CardExpiry","CardNumber","showIcon","Iban","supportedCountries","IdealBank","getConfig","storeUrl","links","siteLink","onUnhandledStripeV3Error","subtype","message","getIndividualCardElementOptions","stripeInitializeOptions","getStripeOptions","stripev3","form","optionsCustomForm","_shouldShowNumber","props","onComplete","navigateToOrderConfirmation","loadingContainerId","CheckoutButton","testId"],"sourceRoot":""}