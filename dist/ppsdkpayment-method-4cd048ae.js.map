{"version":3,"file":"ppsdkpayment-method-4cd048ae.js","mappings":"4JAUA,MAoBA,GAAe,QApB8D,EACzEA,SACAC,kBACAC,gBACAC,cACAC,WACAC,sBAGI,gBAAC,IAAyB,CACtBJ,gBAAiBA,EACjBC,cAAeA,EACfE,SAAUA,EACVJ,OAAQA,EACRK,iBAAkBA,EAClBF,YAAaA,KAOrB,CACI,CACIG,GAAI,sBAER,CAAEA,GAAI,cAAeC,QAAS,kBAC9B,CAAED,GAAI,cAAeC,QAAS,eAE9B,CAAED,GAAI,iB,iGClCP,MCGME,EAA2C,CAEpDC,QAASC,EAAA,EACTC,KCLiBC,IACjB,MAAMC,EFFuB,CAACD,IAC9B,MAAM,gBAAEX,EAAe,OAAED,EAAM,iBAAEK,EAAmB,EAAAS,MAASF,GACvD,kBAAEG,EAAiB,oBAAEC,GAAwBf,EAE7CgB,GAAU,IAAAC,UACZ,KAAM,CACFC,UAAWnB,EAAOO,QAClBa,SAAUpB,EAAOM,MAErB,CAACN,EAAOO,QAASP,EAAOM,KAGtBe,GAAS,IAAAC,cAAY,IAAMP,EAAkBE,IAAU,CAACF,EAAmBE,IAC3EM,GAAW,IAAAD,cACb,IAAMN,EAAoBC,IAC1B,CAACD,EAAqBC,IAG1B,OAAO,IAAAK,cAAY,KACfD,IAASG,MAAMnB,GAER,KACHkB,IAAWC,MAAMnB,MAEtB,CAACgB,EAAQhB,EAAkBkB,KEtBdE,CAAkBb,GAKlC,OAHA,IAAAc,WAAUb,EAAS,CAACA,IAGb,mCCcX,GAAe,EAAAc,EAAA,IAhBoDf,I,MAC/D,MAAM,OAAEZ,EAAM,iBAAEK,EAAmB,EAAAS,MAASF,EAEtCgB,GAA4C,QAA7B,EAAA5B,EAAO6B,8BAAsB,eAAEC,OAAQ,GACtDC,EAAYvB,EAA2BoB,GAG7C,OAAKG,EAME,gBAACA,EAAS,iBAAKnB,KALlBP,EAAiB,IAAI2B,MAAM,4CAEpB,QAM0C,CACrD,CACIF,KAAM,qB","sources":["webpack://checkout/./packages/hosted-credit-card-integration/src/HostedCreditCardPaymentMethod.tsx","webpack://checkout/./packages/ppsdk-integration/src/usePropsToOnMount.ts","webpack://checkout/./packages/ppsdk-integration/src/initializationComponentMap.ts","webpack://checkout/./packages/ppsdk-integration/src/NoUI.tsx","webpack://checkout/./packages/ppsdk-integration/src/PPSDKPaymentMethod.tsx"],"sourcesContent":["import React, { type FunctionComponent } from 'react';\n\nimport {\n    type PaymentMethodProps,\n    type PaymentMethodResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nimport { HostedCreditCardComponent } from './components';\n\nconst HostedCreditCardPaymentMethod: FunctionComponent<PaymentMethodProps> = ({\n    method,\n    checkoutService,\n    checkoutState,\n    paymentForm,\n    language,\n    onUnhandledError,\n}) => {\n    return (\n        <HostedCreditCardComponent\n            checkoutService={checkoutService}\n            checkoutState={checkoutState}\n            language={language}\n            method={method}\n            onUnhandledError={onUnhandledError}\n            paymentForm={paymentForm}\n        />\n    );\n};\n\nexport default toResolvableComponent<PaymentMethodProps, PaymentMethodResolveId>(\n    HostedCreditCardPaymentMethod,\n    [\n        {\n            id: 'hosted-credit-card',\n        },\n        { id: 'credit_card', gateway: 'bluesnapdirect' },\n        { id: 'credit_card', gateway: 'checkoutcom' },\n\n        { id: 'tdonlinemart' },\n    ],\n);\n","import { noop } from 'lodash';\nimport { useCallback, useMemo } from 'react';\n\nimport { type PaymentMethodProps } from '@bigcommerce/checkout/payment-integration-api';\n\nexport const usePropsToOnMount = (props: PaymentMethodProps): (() => () => void) => {\n    const { checkoutService, method, onUnhandledError = noop } = props;\n    const { initializePayment, deinitializePayment } = checkoutService;\n\n    const options = useMemo(\n        () => ({\n            gatewayId: method.gateway,\n            methodId: method.id,\n        }),\n        [method.gateway, method.id],\n    );\n\n    const onInit = useCallback(() => initializePayment(options), [initializePayment, options]);\n    const onDeinit = useCallback(\n        () => deinitializePayment(options),\n        [deinitializePayment, options],\n    );\n\n    return useCallback(() => {\n        onInit().catch(onUnhandledError);\n\n        return () => {\n            onDeinit().catch(onUnhandledError);\n        };\n    }, [onInit, onUnhandledError, onDeinit]);\n};\n","import { type ComponentType } from 'react';\n\nimport { HostedCreditCardPaymentMethod } from '@bigcommerce/checkout/hosted-credit-card-integration';\n\nimport { NoUI } from './NoUI';\n\ntype ComponentMap = Record<string, ComponentType<any>>;\n\nexport const initializationComponentMap: ComponentMap = {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    card_ui: HostedCreditCardPaymentMethod,\n    none: NoUI,\n};\n","import React, { useEffect } from 'react';\n\nimport { type PaymentMethodProps } from '@bigcommerce/checkout/payment-integration-api';\n\nimport { usePropsToOnMount } from './usePropsToOnMount';\n\nexport const NoUI = (props: PaymentMethodProps) => {\n    const onMount = usePropsToOnMount(props);\n\n    useEffect(onMount, [onMount]);\n\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return <></>;\n};\n","import { noop } from 'lodash';\nimport React, { type FunctionComponent } from 'react';\n\nimport {\n    type PaymentMethodProps,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nimport { initializationComponentMap } from './initializationComponentMap';\n\nconst PPSDKPaymentMethod: FunctionComponent<PaymentMethodProps> = (props) => {\n    const { method, onUnhandledError = noop } = props;\n\n    const componentKey = method.initializationStrategy?.type || '';\n    const Component = initializationComponentMap[componentKey];\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!Component) {\n        onUnhandledError(new Error('PPSDK initialization strategy not found'));\n\n        return null;\n    }\n\n    return <Component {...props} />;\n};\n\nexport default toResolvableComponent(PPSDKPaymentMethod, [\n    {\n        type: 'PAYMENT_TYPE_SDK',\n    },\n]);\n"],"names":["method","checkoutService","checkoutState","paymentForm","language","onUnhandledError","id","gateway","initializationComponentMap","card_ui","HostedCreditCardPaymentMethod","none","props","onMount","noop","initializePayment","deinitializePayment","options","useMemo","gatewayId","methodId","onInit","useCallback","onDeinit","catch","usePropsToOnMount","useEffect","toResolvableComponent","componentKey","initializationStrategy","type","Component","Error"],"sourceRoot":""}